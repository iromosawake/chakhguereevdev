{% extends 'hommeultime.html.twig' %}

{% block title %}Edition programme{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('./styles/programme.css') }}" rel="stylesheet">
    <link href="{{ asset('./styles/bootstrap-table.min.css') }}" rel="stylesheet">
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.22.1/dist/extensions/mobile/bootstrap-table-mobile.min.js"></script>
    <script src="{{ asset('js/programmes.js') }}" type="text/javascript"></script>
    <script>
        $(function () {
            $('#table').bootstrapTable()
        })
    </script>
{% endblock %}


{% block content %}
    <hr>
    <table class="table table-striped table-dark "
           id="table"
           data-mobile-responsive="true">
        <thead>
        <tr>
            <th scope="col" data-field="ordre" >#</th>
            <th scope="col" data-field="petern" >Paterne</th>
            <th scope="col" data-field="exercice" >Exercice</th>
            <th scope="col" data-field="series" >Séries</th>
            <th scope="col" data-field="reps" >Reps</th>
            <th scope="col" data-field="charge" >Charge</th>
            <th scope="col" data-field="rpe" >RPE</th>
            <th scope="col" data-field="repos" >Repos</th>
            <th scope="col" data-field="consigne" >Consignes</th>
{#            <th scope="col" data-field="video" >Vidéo</th>#}
            <th scope="col" data-field="image" >Image</th>
        </tr>
        </thead>

        <tbody>

        {% for  programme in programmes %}
            <tr class="table{{ (programme.exercice.principal)? "-danger" : "" }}">
                <td>{{ programme.ordre }}</td>
                <td>{{ programme.exercice.patternMuscle }}</td>
                <td><a class="link-dark see"
                       href="{{ path('programme.action',{id: programme.id}) }}">{{ programme.exercice.nom }}</a></td>
                <td>{{ programme.series }}</td>
                <td>{{ programme.reps }}</td>
                <td>{{ programme.charge }}</td>
                <td>{{ programme.rpe }}</td>
                <td>{{ programme.repos }}</td>
                <td>{{ programme.exercice.consigne }}</td>
{#                <td>#}
{#                    <iframe src="{{ programme.exercice.video }}" class="responsive-iframe" allowfullscreen></iframe>#}
{#                </td>#}
                <td><a href="{{ path('programme.action',{id: programme.id}) }}"><img
                                src="{{ asset('uploads/images/') ~ programme.exercice.image }}"
                                class="img-fluid img-thumbnail " alt="{{ programme.exercice.nom }}"></a></td>

            </tr>

        {% endfor %}
        </tbody>
    </table>
    <hr>
    {% if isPaginated %}
        <div class="row">
            <nav aria-label="col Page navigation example">
                <ul class="pagination justify-content-center">
                    {% if page != 1 %}
                        <li class="page-item"><a class="page-link"
                                                 href="{{ path('programme.show',{page:page-1, nombre:elements}) }}">Précédent</a>
                        </li>
                    {% endif %}

                    {% for i in range(1,nbPages) %}
                        <li class="page-item {{ (page==i)?"active" :"" }}"><a class="page-link"
                                                                              href="{{ path('programme.show',{page:i, nombre:elements}) }}">{{ i }}</a>
                        </li>
                    {% endfor %}

                    {% if page!= nbPages %}
                        <li class="page-item"><a class="page-link"
                                                 href="{{ path('programme.show',{page:page+1, nombre:elements}) }}">Suivant</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    {% endif %}

{% endblock %}


