{% extends 'hommeultime.html.twig' %}

{% block title %}Edition programme{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css" rel="stylesheet">
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.22.1/dist/extensions/mobile/bootstrap-table-mobile.min.js"></script>
    <script src="{{ asset('js/programmes.js') }}" type="text/javascript"></script>
    <script>
        $(function () {
            $('#table').bootstrapTable()
        })
    </script>
{% endblock %}


{% block content %}
    <hr>
    <table class="table table-striped table-dark"
           id="table"
           data-show-columns="true"
           data-mobile-responsive="true"
           data-check-on-init="true">
        <thead>
        <tr>
            <th scope="col" data-field="ordre" data-sortable="true">#</th>
            <th scope="col" data-field="petern" data-sortable="true">Paterne</th>
            <th scope="col" data-field="exercice" data-sortable="true">Exercice</th>
            <th scope="col" data-field="series" data-sortable="true">Séries</th>
            <th scope="col" data-field="reps" data-sortable="true">Reps</th>
            <th scope="col" data-field="charge" data-sortable="true">Charge</th>
            <th scope="col" data-field="rpe" data-sortable="true">RPE</th>
            <th scope="col" data-field="repos" data-sortable="true">Repos</th>
            <th scope="col" data-field="consigne" ata-sortable="true">Consignes</th>
            <th scope="col" data-field="video" data-sortable="true">Vidéo</th>
            <th scope="col" data-field="image" data-sortable="true">Image</th>
        </tr>
        </thead>

        <tbody>

        {% for  programme in programmes %}
            <tr class="table{{ (programme.exercice.principal)? "-danger" : "" }}  clickable-row" data-href="{{ path('programme.action',{id: programme.id}) }}">
                <td>{{ programme.ordre }}</td>
                <td>{{ programme.exercice.patternMuscle }}</td>
                <td>{{ programme.exercice.nom }}</td>
                <td>{{ programme.series }}</td>
                <td>{{ programme.reps }}</td>
                <td>{{ programme.charge }}</td>
                <td>{{ programme.rpe }}</td>
                <td>{{ programme.repos }}</td>
                <td>{{ programme.exercice.consigne }}</td>
                <td>
                    <iframe src="{{ programme.exercice.video }}" class="responsive-iframe" allowfullscreen></iframe>
                </td>
                <td><img src="{{ asset('uploads/images/') ~ programme.exercice.image }}"
                         class="img-fluid img-thumbnail"
                         alt="{{ programme.exercice.nom }}"></td>
            </tr>

        {% endfor %}
        </tbody>
    </table>
    {% if isPaginated %}
        <div class="row">
            <nav aria-label="col Page navigation example">
                <ul class="pagination justify-content-center">
                    {% if page != 1 %}
                        <li class="page-item"><a class="page-link"
                                                 href="{{ path('programme.show',{page:page-1, nombre:elements}) }}">Précédent</a>
                        </li>
                    {% endif %}

                    {% for i in range(1,nbPages) %}
                        <li class="page-item {{ (page==i)?"active" :"" }}"><a class="page-link"
                                                                              href="{{ path('programme.show',{page:i, nombre:elements}) }}">{{ i }}</a>
                        </li>
                    {% endfor %}

                    {% if page!= nbPages %}
                        <li class="page-item"><a class="page-link"
                                                 href="{{ path('programme.show',{page:page+1, nombre:elements}) }}">Suivant</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    {% endif %}

{% endblock %}


